<h1 class="text-2xl font-bold mb-4">Nueva Cita</h1>

<!-- Mensajes flash -->
<% if (messages.error && messages.error.length > 0) { %>
  <div class="bg-red-100 text-red-800 p-2 mb-4 rounded">
    <% messages.error.forEach(msg => { %>
      <p><%= msg %></p>
    <% }) %>
  </div>
<% } %>

<% if (messages.success && messages.success.length > 0) { %>
  <div class="bg-green-100 text-green-800 p-2 mb-4 rounded">
    <% messages.success.forEach(msg => { %>
      <p><%= msg %></p>
    <% }) %>
  </div>
<% } %>

<form action="/citas/guardar" method="POST" class="space-y-4">
  <!-- Paciente -->
  <div>
    <label for="paciente" class="block font-semibold mb-1">Paciente:</label>
    <select name="paciente" id="paciente" class="border rounded p-2 w-full" required>
      <option value="">-- Selecciona un paciente --</option>
      <% pacientes.forEach(p => { %>
        <option value="<%= p.id %>"><%= p.nombre %></option>
      <% }) %>
    </select>
  </div>

  <!-- Fecha -->
  <div>
    <label for="fecha" class="block font-semibold mb-1">Fecha:</label>
    <input type="date" name="fecha" id="fecha" class="border rounded p-2 w-full" required>
  </div>

  <!-- Motivo -->
  <div>
    <label for="motivo" class="block font-semibold mb-1">Motivo:</label>
    <input type="text" name="motivo" id="motivo" class="border rounded p-2 w-full" placeholder="Motivo de la cita" required>
  </div>

  <!-- BotÃ³n -->
  <div>
    <button type="submit" class="bg-blue-800 text-white px-4 py-2 rounded hover:bg-blue-700 transition">
      Guardar Cita
    </button>
    <a href="/citas" class="ml-2 text-gray-600 hover:underline">Cancelar</a>
  </div>
</form>
